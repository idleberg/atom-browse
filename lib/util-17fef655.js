"use strict";var e=require("path"),t=require("fs"),n=require("os"),a=require("util"),s=require("electron"),r=require("child_process"),i=require("./index-6334e9b1.js");require("atom");const o=a.promisify(r.spawn);async function l(e){let n;try{n=await t.promises.stat(e)}catch(t){return i.console.warn(`Skipping '${e}' – not found`),!1}return n.isDirectory()}const c=(e="")=>atom.config.get(`browse.${e}`),p=()=>{switch(n.platform()){case"darwin":return"Finder";case"win32":return"Explorer";default:return"file manager"}};function h(e,t=!1){"all"===c("notify")&&atom.notifications.addInfo(`**${i.name}** ${e}`,{dismissable:t,icon:"check"}),i.console.info(`${e}`)}exports.folderExists=l,exports.getConfig=c,exports.getPackagesDirs=()=>atom.packages.getPackageDirPaths().filter((e=>!e.includes("app.asar"))),exports.isDirectory=async function(e){let n;try{n=await t.promises.lstat(e)}catch(e){return i.console.error(e),!1}return n.isDirectory()},exports.isFile=async function(e){let n;try{n=await t.promises.lstat(e)}catch(e){return i.console.error(e),!1}return n.isFile()},exports.showFolder=async function(e){if(!e.path.length||!await l(e.path))return;const t=c("customFileManager.fullPath");if(t){let n=c("customFileManager.openArgs");if(n.length>0)if(n.includes("%path%")){const t=n.indexOf("%path%");n[t]=n[t].replace("%path%",e.path)}else n.push(e.path);else n=[e.path];e.silent||h(e.message?String(e.message):`Opening '${e.name}' in custom file manager`),o(t,n,{})}else{e.silent||h(e.message?String(e.message):`Opening '${e.name}' in ${p()}`);try{await s.shell.openPath(e.path)}catch(t){s.shell.openItem&&s.shell.openItem(e.path)}}},exports.showInFolder=async function(n){if(!n.path.length||!await async function(e){try{await t.promises.access(e,t.constants.F_OK)}catch(t){return i.console.warn(`Skipping '${e}' – not found`),!1}return!0}(n.path))return;const a=c("customFileManager.fullPath");if(a){let t=c("customFileManager.revealArgs");if(t.length>0)if(t.includes("%path%")){const e=t.indexOf("%path%");t[e]=t[e].replace("%path%",n.path)}else t.push(n.path);else t=[n.path];n.silent||h(n.message?String(n.message):`Revealing \`${e.basename(n.path)}\` in custom file manager`),o(a,t,{})}else n.silent||h(n.message?String(n.message):`Revealing \`${e.basename(n.path)}\` in ${p()}`),s.shell.showItemInFolder(n.path)},exports.warn=function(e,t=!1){"none"!==c("notify")&&atom.notifications.addWarning(`**${i.name}** ${e}`,{dismissable:t}),c("beep")&&atom.beep(),i.console.warn(`${e}`)};
//# sourceMappingURL=util-17fef655.js.map
