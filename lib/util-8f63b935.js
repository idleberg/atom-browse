"use strict";var e=require("path"),t=require("fs"),a=require("os"),n=require("util"),s=require("electron"),r=require("child_process"),i=require("./index-21a91ed6.js");require("atom");const o=n.promisify(r.spawn);async function l(e){let a;try{a=await t.promises.stat(e)}catch(t){return i.console.warn(`Skipping '${e}' – not found`),!1}return a.isDirectory()}const c=(e="")=>atom.config.get(`browse.${e}`),p=()=>{switch(a.platform()){case"darwin":return"Finder";case"win32":return"Explorer";default:return"file manager"}};function h(e,t=!1){"all"===c("notify")&&atom.notifications.addInfo(`**${i.name}** ${e}`,{dismissable:t,icon:"check"}),i.console.info(`${e}`)}exports.folderExists=l,exports.getConfig=c,exports.getPackagesDirs=()=>atom.packages.getPackageDirPaths().filter((e=>!e.includes("app.asar"))),exports.isDirectory=async function(e){let a;try{a=await t.promises.lstat(e)}catch(e){return i.console.error(e),!1}return a.isDirectory()},exports.isFile=async function(e){let a;try{a=await t.promises.lstat(e)}catch(e){return i.console.error(e),!1}return a.isFile()},exports.showFolder=async function(e){if(!e.path.length||!await l(e.path))return;const t=c("customFileManager.fullPath");if(t){let a=c("customFileManager.openArgs");if(a.length>0)if(a.includes("%path%")){const t=a.indexOf("%path%");a[t]=a[t].replace("%path%",e.path)}else a.push(e.path);else a=[e.path];e.silent||h(e.message?String(e.message):`Opening '${e.name}' in custom file manager`),o(t,a,{})}else{e.silent||h(e.message?String(e.message):`Opening '${e.name}' in ${p()}`);try{await s.shell.openPath(e.path)}catch(t){s.shell.openItem&&s.shell.openItem(e.path)}}},exports.showInFolder=async function(a){if(!a.path.length||!await async function(e){try{await t.promises.access(e,t.constants.F_OK)}catch(t){return i.console.warn(`Skipping '${e}' – not found`),!1}return!0}(a.path))return;const n=c("customFileManager.fullPath");if(n){let t=c("customFileManager.revealArgs");if(t.length>0)if(t.includes("%path%")){const e=t.indexOf("%path%");t[e]=t[e].replace("%path%",a.path)}else t.push(a.path);else t=[a.path];a.silent||h(a.message?String(a.message):`Revealing \`${e.basename(a.path)}\` in custom file manager`),o(n,t,{})}else a.silent||h(a.message?String(a.message):`Revealing \`${e.basename(a.path)}\` in ${p()}`),s.shell.showItemInFolder(a.path)},exports.warn=function(e,t=!1){"none"!==c("notify")&&atom.notifications.addWarning(`**${i.name}** ${e}`,{dismissable:t}),c("beep")&&atom.beep(),i.console.warn(`${e}`)};
//# sourceMappingURL=util-8f63b935.js.map
